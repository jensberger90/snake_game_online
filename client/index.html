
<div id="gameDiv" style="inline-block">
    <canvas id="ctx" width="500" height="500" style="border:1px solid #000000;"></canvas>
 

</div>
 
<script src="https://cdn.socket.io/socket.io-1.4.5.js"></script>
<script>
    var socket = io();
   
    
 
    //game

    var ctx = document.getElementById("ctx").getContext("2d");
    ctx.font = '12px Arial';
       
    socket.on('newPositions',function(data){
        ctx.clearRect(0,0,500,500);

        console.log(data);
        
        for(var i = 0 ; i < data.player.length; i++){
            ctx.fillText(data.player[i].score,data.player[i].snakex[0]*25,data.player[i].snakey[0]*25);      

            for (var i2 in data.player[i].snakex) {
                    ctx.beginPath();
                    ctx.strokeStyle = "black";

                    ctx.rect(data.player[i].snakex[i2]*25,data.player[i].snakey[i2]*25,25,25);
                    
                    ctx.stroke();
                         
            } 
        }


        
        // Red rectangle
        ctx.beginPath();
        ctx.strokeStyle = "red";
        ctx.rect(data.goal.px*25, data.goal.py*25, 25, 25);
        ctx.stroke();
            
            //ctx.rect(data.player[i].snakex[0],data.player[i].snakey[0],25,25);     
            
            
            
    });
   

   

    document.onkeydown = function(event){
        if(event.keyCode === 68)    //d
            socket.emit('keyPress',{inputId:'right'});
        else if(event.keyCode === 83)   //s
            socket.emit('keyPress',{inputId:'down'});
        else if(event.keyCode === 65) //a
            socket.emit('keyPress',{inputId:'left'});
        else if(event.keyCode === 87) // w
            socket.emit('keyPress',{inputId:'up'});
           
    }


   
   
   
   
</script>